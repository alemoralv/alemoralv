<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Financiera: Sistema de Ahorro para el Retiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js" crossorigin="anonymous"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #f8fafc; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        #graph-container { width: 100%; height: 100vh; position: relative; }
        
        .tooltip {
            position: absolute;
            opacity: 0;
            background-color: rgba(255, 255, 255, 0.95);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px;
            pointer-events: none;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            max-width: 400px;
            font-size: 0.875rem;
            color: #1e293b;
            transition: opacity 0.2s;
            z-index: 10;
            max-height: 400px;
            overflow-y: auto;
        }

        .legend-item { display: flex; align-items: center; margin-bottom: 4px; font-size: 0.75rem; color: #475569; }
        .legend-color { width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; }
        
        /* Node and Link Styles */
        line { stroke: #94a3b8; stroke-opacity: 0.6; stroke-width: 1.5px; transition: stroke 0.2s, stroke-opacity 0.2s, stroke-width 0.2s; stroke-linecap: round; }
        circle { stroke: #fff; stroke-width: 2px; transition: r 0.2s, stroke-width 0.2s, stroke 0.2s; cursor: grab; }
        circle:active { cursor: grabbing; }
        /* Style for pinned nodes */
        circle.pinned { stroke: #1e293b; stroke-width: 3px; stroke-dasharray: 2 1; } 
        text { font-family: sans-serif; pointer-events: none; text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff; font-weight: 500; }

        /* Metrics Panel Scrollbar */
        #metrics-panel::-webkit-scrollbar { width: 6px; }
        #metrics-panel::-webkit-scrollbar-track { background: #f1f1f1; }
        #metrics-panel::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        #metrics-panel::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>

<div id="graph-container"></div>
<div id="tooltip" class="tooltip"></div>

<!-- Legend (Top Left) -->
<div class="absolute top-4 left-4 bg-white p-4 rounded-lg shadow-md border border-slate-200 pointer-events-auto max-h-[90vh] overflow-y-auto w-64">
    <h1 class="text-sm font-bold text-slate-800 mb-2">Leyenda de Entidades</h1>
    <div id="legend-content"></div>
</div>

<!-- Metrics Panel (Bottom Left) -->
<div id="metrics-panel" class="absolute bottom-4 left-4 bg-white p-4 rounded-lg shadow-md border border-slate-200 pointer-events-auto max-h-[50vh] overflow-y-auto w-80 text-xs font-mono text-slate-700 leading-relaxed">
    <h2 class="font-bold text-slate-800 mb-2 border-b pb-1 text-sm font-sans">Estructura del Grafo</h2>
    <div id="metrics-content" class="space-y-1">
        <div class="flex justify-center py-4 text-slate-400">Calculando métricas...</div>
    </div>
</div>

<script>
    // Data definition moved inside event listener or function to prevent global pollution before load
    const rawData = {
  "nodes": [
    { "id": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "type": "ORGANIZATION", "degree": 24, "description": "CONSAR: Organismo regulador nacional en México responsable de supervisar el sistema de ahorro para el retiro." },
    { "id": "MOODY'S CORPORATION", "type": "ORGANIZATION", "degree": 1, "description": "Agencia global de calificación crediticia." },
    { "id": "MOODY'S LOCAL MÉXICO", "type": "ORGANIZATION", "degree": 11, "description": "Subsidiaria de Moody's Corporation, especializada en calificaciones crediticias locales." },
    { "id": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "type": "ORGANIZATION", "degree": 13, "description": "CNBV: Agencia gubernamental que supervisa los mercados e instituciones financieras." },
    { "id": "DIARIO OFICIAL DE LA FEDERACIÓN", "type": "ORGANIZATION", "degree": 23, "description": "Periódico oficial del gobierno mexicano." },
    { "id": "COMITÉ DE ANÁLISIS DE RIESGOS", "type": "ORGANIZATION", "degree": 31, "description": "Comité encargado del análisis de riesgos, establecimiento de límites de inversión y criterios de riesgo crediticio." },
    { "id": "MOODY'S DE MÉXICO", "type": "ORGANIZATION", "degree": 1, "description": "Nombre anterior de Moody's Local México." },
    { "id": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "type": "", "degree": 5, "description": "SIEFORES." },
    { "id": "DBRS MÉXICO", "type": "ORGANIZATION", "degree": 4, "description": "Agencia de calificación crediticia liquidada." },
    { "id": "HR RATINGS", "type": "ORGANIZATION", "degree": 2, "description": "Agencia de calificación crediticia que asumió las actividades de DBRS." },
    { "id": "COMISIÓN NACIONAL BANCARIA Y DE VALORES (CNBV)", "type": "ORGANIZATION", "degree": 1, "description": "CNBV." },
    { "id": "MORNINGSTAR", "type": "ORGANIZATION", "degree": 1, "description": "Firma global de servicios financieros." },
    { "id": "SIEFORE", "type": "ORGANIZATION", "degree": 1, "description": "Sociedades de inversión especializadas en fondos para el retiro." },
    { "id": "LEY DE LOS SISTEMAS DE AHORRO PARA EL RETIRO", "type": "EVENT", "degree": 3, "description": "Marco legal que rige el ahorro para el retiro." },
    { "id": "REGULATIONS UPDATE", "type": "EVENT", "degree": 2, "description": "Modificaciones a los regímenes de inversión." },
    { "id": "MÉXICO", "type": "", "degree": 8, "description": "" },
    { "id": "COMISIÓN NACIONAL DE MEJORA REGULATORIA", "type": "ORGANIZATION", "degree": 1, "description": "Supervisión de mejoras regulatorias." },
    { "id": "LEY GENERAL DE MEJORA REGULATORIA", "type": "EVENT", "degree": 2, "description": "Marco para mejorar las prácticas regulatorias." },
    { "id": "LEY DEL MERCADO DE VALORES", "type": "EVENT", "degree": 6, "description": "Ley que rige el mercado de valores." },
    { "id": "INSTRUMENTOS ESTRUCTURADOS", "type": "EVENT", "degree": 7, "description": "Instrumentos de inversión con resultados predeterminados." },
    { "id": "FIBRAS", "type": "EVENT", "degree": 10, "description": "Fideicomisos de Inversión en Bienes Raíces (REITs)." },
    { "id": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "type": "EVENT", "degree": 6, "description": "Vehículos de inversión enfocados en bienes raíces." },
    { "id": "EMISORA SIMPLIFICADA", "type": "EVENT", "degree": 3, "description": "Nueva categoría de emisor para expandir oportunidades de inversión." },
    { "id": "ESTADOS UNIDOS MEXICANOS", "type": "GEO", "degree": 3, "description": "México." },
    { "id": "EMPRESAS PÚBLICAS DEL ESTADO", "type": "ORGANIZATION", "degree": 2, "description": "Empresas propiedad del estado." },
    { "id": "TRABAJADORES", "type": "PERSON", "degree": 7, "description": "Trabajadores cuyos recursos son invertidos." },
    { "id": "ADMINISTRADORAS", "type": "ORGANIZATION", "degree": 17, "description": "AFORES: Entidades que administran fondos de retiro." },
    { "id": "SOCIEDAD DE INVERSIÓN", "type": "ORGANIZATION", "degree": 47, "description": "Sociedad de Inversión que administra portafolios." },
    { "id": "DECRETO", "type": "EVENT", "degree": 1, "description": "Decreto de reforma constitucional." },
    { "id": "ANEXO S", "type": "ORGANIZATION", "degree": 3, "description": "Límites de inversión para instrumentos estructurados." },
    { "id": "ANEXO S BIS", "type": "ORGANIZATION", "degree": 4, "description": "Límites de inversión expandidos." },
    { "id": "CONSTITUCIÓN POLÍTICA DE LOS ESTADOS UNIDOS MEXICANOS", "type": "", "degree": 1, "description": "" },
    { "id": "BANCO DE MÉXICO", "type": "ORGANIZATION", "degree": 20, "description": "Banco Central de México." },
    { "id": "SECRETARÍA DE ENERGÍA", "type": "ORGANIZATION", "degree": 1, "description": "Secretaría de Energía." },
    { "id": "ESTADOS UNIDOS DE AMÉRICA", "type": "GEO", "degree": 1, "description": "EE. UU." },
    { "id": "EUROPA", "type": "GEO", "degree": 1, "description": "Europa." },
    { "id": "JAPÓN", "type": "GEO", "degree": 2, "description": "Japón." },
    { "id": "EMPRESAS PRIVADAS", "type": "ORGANIZATION", "degree": 1, "description": "Empresas comerciales privadas." },
    { "id": "INSTITUCIONES CALIFICADORAS DE VALORES", "type": "ORGANIZATION", "degree": 3, "description": "Agencias calificadoras." },
    { "id": "SOCIEDADES DE INVERSIÓN", "type": "ORGANIZATION", "degree": 34, "description": "Sociedades de Inversión." },
    { "id": "COMITÉ DE INVERSIÓN", "type": "ORGANIZATION", "degree": 5, "description": "Comité de Inversión." },
    { "id": "COMITÉ DE RIESGOS FINANCIEROS", "type": "ORGANIZATION", "degree": 2, "description": "Comité de Riesgos Financieros." },
    { "id": "COMITÉ DE VALUACIÓN", "type": "ORGANIZATION", "degree": 3, "description": "Comité de Valuación." },
    { "id": "INSTITUCIONES DE CRÉDITO", "type": "", "degree": 3, "description": "" },
    { "id": "PETRÓLEOS MEXICANOS", "type": "ORGANIZATION", "degree": 1, "description": "Pemex." },
    { "id": "COMISIÓN FEDERAL DE ELECTRICIDAD", "type": "ORGANIZATION", "degree": 1, "description": "CFE." },
    { "id": "GOBIERNO FEDERAL", "type": "ORGANIZATION", "degree": 4, "description": "Gobierno Federal." },
    { "id": "GOBIERNO DE LA CIUDAD DE MÉXICO", "type": "ORGANIZATION", "degree": 1, "description": "Gobierno de la Ciudad de México." },
    { "id": "ENTIDADES FINANCIERAS", "type": "ORGANIZATION", "degree": 5, "description": "Entidades financieras." },
    { "id": "EMISORES NACIONALES", "type": "ORGANIZATION", "degree": 8, "description": "Emisores nacionales." },
    { "id": "EMISORES EXTRANJEROS", "type": "ORGANIZATION", "degree": 4, "description": "Emisores extranjeros." },
    { "id": "FIBRAS GENÉRICAS", "type": "ORGANIZATION", "degree": 1, "description": "FIBRAS genéricas." },
    { "id": "FIBRA-E", "type": "ORGANIZATION", "degree": 1, "description": "FIBRAS de Energía/Infraestructura." },
    { "id": "FIBRAS HIPOTECARIAS", "type": "ORGANIZATION", "degree": 0, "description": "FIBRAS Hipotecarias." },
    { "id": "FONDOS MUTUOS", "type": "ORGANIZATION", "degree": 2, "description": "Fondos mutuos." },
    { "id": "FONDOS MUTUOS EXTRANJEROS", "type": "ORGANIZATION", "degree": 0, "description": "Fondos Mutuos Extranjeros." },
    { "id": "FONDOS MUTUOS NACIONALES", "type": "ORGANIZATION", "degree": 0, "description": "Fondos Mutuos Nacionales." },
    { "id": "GRUPOS FINANCIEROS", "type": "ORGANIZATION", "degree": 0, "description": "Grupos Financieros." },
    { "id": "ÍNDICES ACCIONARIOS DE PAÍSES ELEGIBLES PARA INVERSIONES", "type": "ORGANIZATION", "degree": 1, "description": "Índices Accionarios Elegibles." },
    { "id": "ÍNDICES INMOBILIARIOS DE PAÍSES ELEGIBLES PARA INVERSIONES", "type": "ORGANIZATION", "degree": 1, "description": "Índices Inmobiliarios Elegibles." },
    { "id": "ÍNDICES DE DEUDA DE PAÍSES ELEGIBLES PARA INVERSIONES", "type": "ORGANIZATION", "degree": 1, "description": "Índices de Deuda Elegibles." },
    { "id": "ÍNDICES DE MERCANCÍAS", "type": "ORGANIZATION", "degree": 1, "description": "Índices de Mercancías." },
    { "id": "LEY DEL IMPUESTO SOBRE LA RENTA", "type": "ORGANIZATION", "degree": 1, "description": "Ley del ISR." },
    { "id": "PAÍSES ELEGIBLES PARA INVERSIONES", "type": "GEO", "degree": 9, "description": "Países elegibles para inversión." },
    { "id": "DOF", "type": "", "degree": 11, "description": "" },
    { "id": "SISTEMAS DE AHORRO PARA EL RETIRO", "type": "ORGANIZATION", "degree": 11, "description": "Sistemas de Ahorro para el Retiro (SAR)." },
    { "id": "LEY DE INSTITUCIONES DE CRÉDITO", "type": "EVENT", "degree": 1, "description": "Ley de Instituciones de Crédito." },
    { "id": "INSTRUMENTOS BURSATILIZADOS", "type": "EVENT", "degree": 4, "description": "Instrumentos bursatilizados." },
    { "id": "INSTRUMENTOS DE DEUDA", "type": "EVENT", "degree": 7, "description": "Instrumentos de deuda." },
    { "id": "INSTRUMENTOS DE DEUDA HÍBRIDOS", "type": "EVENT", "degree": 2, "description": "Instrumentos de deuda híbridos." },
    { "id": "CERTIFICADOS BURSÁTILES FIDUCIARIOS DE PROYECTOS DE INVERSIÓN", "type": "EVENT", "degree": 2, "description": "Certificados Bursátiles Fiduciarios de Proyectos de Inversión." },
    { "id": "COMISIÓN", "type": "ORGANIZATION", "degree": 24, "description": "La Comisión (Regulador)." },
    { "id": "SOCIEDADES ANÓNIMAS BURSÁTILES", "type": "ORGANIZATION", "degree": 0, "description": "Sociedades Anónimas Bursátiles." },
    { "id": "EMPRESA PRIVADA", "type": "ORGANIZATION", "degree": 0, "description": "Empresa privada." },
    { "id": "MANDATARIOS", "type": "", "degree": 6, "description": "" },
    { "id": "MERCANCÍAS", "type": "", "degree": 2, "description": "" },
    { "id": "GRUPO FINANCIERO", "type": "ORGANIZATION", "degree": 1, "description": "Grupo Financiero." },
    { "id": "COMITÉ SOBRE EL SISTEMA FINANCIERO GLOBAL", "type": "ORGANIZATION", "degree": 1, "description": "Comité sobre el Sistema Financiero Global." },
    { "id": "BANCO DE PAGOS INTERNACIONALES", "type": "ORGANIZATION", "degree": 1, "description": "Banco de Pagos Internacionales (BIS)." },
    { "id": "ALIANZA DEL PACÍFICO", "type": "ORGANIZATION", "degree": 5, "description": "Bloque comercial Alianza del Pacífico." },
    { "id": "MERCADO INTEGRADO LATINOAMERICANO", "type": "ORGANIZATION", "degree": 1, "description": "MILA." },
    { "id": "UNIÓN EUROPEA", "type": "ORGANIZATION", "degree": 0, "description": "UE." },
    { "id": "ORGANIZACIÓN PARA LA COOPERACIÓN Y EL DESARROLLO ECONÓMICO", "type": "ORGANIZATION", "degree": 1, "description": "OCDE." },
    { "id": "SOCIEDADES DE INVERSIÓN ADICIONALES", "type": "ORGANIZATION", "degree": 1, "description": "Sociedades de Inversión Adicionales." },
    { "id": "INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "type": "ORGANIZATION", "degree": 1, "description": "ISSSTE." },
    { "id": "LEY DEL SEGURO SOCIAL", "type": "EVENT", "degree": 2, "description": "Ley del Seguro Social." },
    { "id": "LEY DEL INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "type": "EVENT", "degree": 3, "description": "Ley del ISSSTE." },
    { "id": "CASAS DE BOLSA", "type": "ORGANIZATION", "degree": 1, "description": "Casas de bolsa." },
    { "id": "PROVEEDOR DE PRECIOS", "type": "ORGANIZATION", "degree": 6, "description": "Proveedor de Precios." },
    { "id": "SOCIEDAD VALUADORA", "type": "ORGANIZATION", "degree": 7, "description": "Sociedad Valuadora." },
    { "id": "SUBCUENTA DEL SEGURO DE RETIRO", "type": "EVENT", "degree": 2, "description": "Subcuenta del Seguro de Retiro." },
    { "id": "SUBCUENTA DE AHORRO PARA EL RETIRO", "type": "EVENT", "degree": 2, "description": "Subcuenta de Ahorro para el Retiro." },
    { "id": "SUBCUENTA DE AHORRO SOLIDARIO", "type": "EVENT", "degree": 2, "description": "Subcuenta de Ahorro Solidario." },
    { "id": "SUBCUENTA DE RCV IMSS", "type": "EVENT", "degree": 1, "description": "Subcuenta RCV IMSS." },
    { "id": "IMSS", "type": "ORGANIZATION", "degree": 3, "description": "Instituto Mexicano del Seguro Social." },
    { "id": "ISSSTE", "type": "ORGANIZATION", "degree": 3, "description": "ISSSTE." },
    { "id": "MEXICO", "type": "GEO", "degree": 10, "description": "México." },
    { "id": "UNIDADES DE INVERSIÓN", "type": "EVENT", "degree": 2, "description": "UDIs." },
    { "id": "REITS", "type": "ORGANIZATION", "degree": 1, "description": "REITs." },
    { "id": "MERCADOS NACIONALES", "type": "GEO", "degree": 1, "description": "Mercados Nacionales." },
    { "id": "MERCADOS EXTRANJEROS", "type": "GEO", "degree": 1, "description": "Mercados Extranjeros." },
    { "id": "CONTRAPARTES", "type": "ORGANIZATION", "degree": 2, "description": "Contrapartes." },
    { "id": "COMITÉ CONSULTIVO Y DE VIGILANCIA", "type": "ORGANIZATION", "degree": 2, "description": "Comité Consultivo y de Vigilancia." },
    { "id": "JUNTA DE GOBIERNO", "type": "ORGANIZATION", "degree": 1, "description": "Junta de Gobierno." },
    { "id": "VEHÍCULOS", "type": "ORGANIZATION", "degree": 7, "description": "Vehículos de Inversión." },
    { "id": "ÍNDICES ACCIONARIOS", "type": "ORGANIZATION", "degree": 1, "description": "Índices Accionarios." },
    { "id": "ÍNDICES INMOBILIARIOS", "type": "ORGANIZATION", "degree": 1, "description": "Índices Inmobiliarios." },
    { "id": "ÍNDICES DE DEUDA", "type": "ORGANIZATION", "degree": 1, "description": "Índices de Deuda." },
    { "id": "BASE DE DATOS NACIONAL SAR", "type": "ORGANIZATION", "degree": 2, "description": "Base de Datos Nacional SAR." },
    { "id": "TRAYECTORIA DE INVERSIÓN", "type": "EVENT", "degree": 2, "description": "Trayectoria de Inversión." },
    { "id": "ANEXO O", "type": "EVENT", "degree": 1, "description": "Anexo O (Fórmula de compensación de pérdidas)." },
    { "id": "ANEXO W", "type": "EVENT", "degree": 1, "description": "Anexo W (Fórmula alternativa)." },
    { "id": "ADMINISTRADORA", "type": "", "degree": 13, "description": "" },
    { "id": "ÍNDICES DE MERCANCÍAS DE PAÍSES ELEGIBLES PARA INVERSIONES", "type": "ORGANIZATION", "degree": 0, "description": "Índices de mercancías de países elegibles." },
    { "id": "SOCIEDADES DE INVERSIÓN BÁSICAS", "type": "ORGANIZATION", "degree": 24, "description": "Sociedades de Inversión Básicas." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA INICIAL", "type": "ORGANIZATION", "degree": 2, "description": "Sociedad de Inversión Básica Inicial." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "type": "ORGANIZATION", "degree": 9, "description": "Sociedad de Inversión Básica de Pensiones (65+)." },
    { "id": "RCV ISSSTE", "type": "ORGANIZATION", "degree": 1, "description": "RCV ISSSTE." },
    { "id": "RCV IMSS", "type": "", "degree": 1, "description": "" },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA", "type": "ORGANIZATION", "degree": 15, "description": "Sociedad de Inversión Básica." },
    { "id": "CERTIFICADOS BURSÁTILES FIDUCIARIOS", "type": "ORGANIZATION", "degree": 1, "description": "Certificados Bursátiles Fiduciarios." },
    { "id": "VALORES EXTRANJEROS", "type": "", "degree": 2, "description": "" },
    { "id": "BOLSA DE VALORES", "type": "ORGANIZATION", "degree": 1, "description": "Bolsa de Valores." },
    { "id": "ANEXO K", "type": "EVENT", "degree": 1, "description": "Anexo K (Calificaciones mínimas para deuda extranjera)." },
    { "id": "ANEXO J", "type": "EVENT", "degree": 1, "description": "Anexo J (Calificaciones para inversión de pensiones)." },
    { "id": "DÉCIMA TERCERA", "type": "EVENT", "degree": 1, "description": "Decimotercera Disposición." },
    { "id": "DÉCIMA OCTAVA", "type": "EVENT", "degree": 1, "description": "Decimoctava Disposición." },
    { "id": "SOCIEDADES DE INVERSIÓN BÁSICAS DE PENSIONES", "type": "", "degree": 4, "description": "" },
    { "id": "NEXOS PATRIMONIALES", "type": "EVENT", "degree": 1, "description": "Nexos Patrimoniales." },
    { "id": "CERTIFICADOS BURSÁTILES", "type": "EVENT", "degree": 2, "description": "Certificados Bursátiles." },
    { "id": "CERTIFICADOS DE PARTICIPACIÓN", "type": "EVENT", "degree": 3, "description": "Certificados de Participación." },
    { "id": "ENTIDAD FINANCIERA", "type": "ORGANIZATION", "degree": 2, "description": "Entidad Financiera." },
    { "id": "CASA DE BOLSA", "type": "ORGANIZATION", "degree": 2, "description": "Casa de Bolsa." },
    { "id": "VEHÍCULOS DE INVERSIÓN", "type": "ORGANIZATION", "degree": 1, "description": "Vehículos de Inversión." },
    { "id": "BANCO", "type": "", "degree": 5, "description": "" },
    { "id": "CONTRAPARTE", "type": "ORGANIZATION", "degree": 1, "description": "Contraparte." },
    { "id": "SOCIEDAD ANÓNIMA", "type": "ORGANIZATION", "degree": 1, "description": "Sociedad Anónima." },
    { "id": "VALOR EXTRANJERO DE DEUDA", "type": "EVENT", "degree": 1, "description": "Valor Extranjero de Deuda." },
    { "id": "INSTRUMENTO DE DEUDA", "type": "", "degree": 1, "description": "" },
    { "id": "CONSEJO DE ADMINISTRACIÓN", "type": "ORGANIZATION", "degree": 1, "description": "Consejo de Administración." },
    { "id": "SOCIEDADES DE INVERSIÓN BÁSICA", "type": "ORGANIZATION", "degree": 4, "description": "Sociedades de Inversión Básica." },
    { "id": "VALORES EXTRANJEROS DE DEUDA", "type": "EVENT", "degree": 1, "description": "Valores Extranjeros de Deuda." },
    { "id": "CERTIFICADOS BURSÁTILES VINCULADOS A PROYECTOS REALES", "type": "EVENT", "degree": 1, "description": "Certificados Vinculados a Proyectos." },
    { "id": "FUSIÓN O CESIÓN DE CARTERA", "type": "", "degree": 1, "description": "" },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 1", "type": "ORGANIZATION", "degree": 1, "description": "SIB 1." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 2", "type": "ORGANIZATION", "degree": 1, "description": "SIB 2." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 3", "type": "ORGANIZATION", "degree": 1, "description": "SIB 3." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 4", "type": "ORGANIZATION", "degree": 1, "description": "SIB 4." },
    { "id": "SOCIEDADES DE INVERSIÓN BÁSICAS INICIAL, 90-94, 80-84, 70-74, 65-69", "type": "ORGANIZATION", "degree": 3, "description": "Nuevas Sociedades de Inversión." },
    { "id": "INDEVAL, S.D.", "type": "ORGANIZATION", "degree": 1, "description": "Indeval." },
    { "id": "VIERNES 13 DE DICIEMBRE DE 2019", "type": "EVENT", "degree": 2, "description": "Fecha de Transferencia." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 55-59", "type": "ORGANIZATION", "degree": 1, "description": "SIB 55-59." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 60-64", "type": "ORGANIZATION", "degree": 1, "description": "SIB 60-64." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 65-69", "type": "ORGANIZATION", "degree": 1, "description": "SIB 65-69." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 70-74", "type": "ORGANIZATION", "degree": 1, "description": "SIB 70-74." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 75-79", "type": "ORGANIZATION", "degree": 1, "description": "SIB 75-79." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 80-84", "type": "ORGANIZATION", "degree": 1, "description": "SIB 80-84." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 85-89", "type": "ORGANIZATION", "degree": 1, "description": "SIB 85-89." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 90-94", "type": "ORGANIZATION", "degree": 1, "description": "SIB 90-94." },
    { "id": "ANEXO L", "type": "EVENT", "degree": 1, "description": "Anexo L (Metodología límites VaR)." },
    { "id": "ABRAHAM E. VELA DIB", "type": "PERSON", "degree": 1, "description": "Presidente de CONSAR." },
    { "id": "CIUDAD DE MÉXICO", "type": "GEO", "degree": 2, "description": "Ciudad de México." },
    { "id": "DISPOSICIONES DE CARÁCTER GENERAL", "type": "EVENT", "degree": 1, "description": "Disposiciones Generales." },
    { "id": "PROGRAMA DE RECOMPOSICIÓN DE CARTERAS", "type": "EVENT", "degree": 1, "description": "Programa de Recomposición de Carteras." },
    { "id": "ANEXOS A, F, J, B, G, K, C, H, I, D, E", "type": "EVENT", "degree": 1, "description": "Anexos A-K." },
    { "id": "IVÁN HILMARDEL PLIEGO MORENO", "type": "PERSON", "degree": 1, "description": "Presidente de CONSAR." },
    { "id": "MÉXICO, D.F.", "type": "GEO", "degree": 1, "description": "México D.F." },
    { "id": "ACUERDO", "type": "EVENT", "degree": 5, "description": "Acuerdo." },
    { "id": "ANEXOS “A”, “B”, “C”, “D”, Y “E”", "type": "EVENT", "degree": 1, "description": "Anexos A-E." },
    { "id": "JULIO CÉSAR CERVANTES PARRA", "type": "PERSON", "degree": 1, "description": "Presidente de CONSAR." },
    { "id": "ANEXOS A, B, C, D, E, F, G, H, I, J, K", "type": "EVENT", "degree": 2, "description": "Anexos A-K Actualizados." },
    { "id": "FITCH MEXICO", "type": "ORGANIZATION", "degree": 8, "description": "Fitch Mexico." },
    { "id": "MOODY’S LOCAL MÉXICO", "type": "ORGANIZATION", "degree": 1, "description": "Moody's Local." },
    { "id": "VERUM", "type": "ORGANIZATION", "degree": 8, "description": "Verum." },
    { "id": "STANDARD & POOR’S", "type": "ORGANIZATION", "degree": 1, "description": "S&P." },
    { "id": "HR RATINGS DE MEXICO", "type": "ORGANIZATION", "degree": 11, "description": "HR Ratings." },
    { "id": "MAYO DE 2021", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "JUNIO DE 2022", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "AGOSTO DE 2023", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "MAYO DE 2024", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "OCTUBRE DE 2024", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "JUNIO DE 2025", "type": "EVENT", "degree": 1, "description": "Fecha." },
    { "id": "MAYO DE 2019", "type": "", "degree": 1, "description": "" },
    { "id": "STANDARD & POOR'S", "type": "ORGANIZATION", "degree": 10, "description": "S&P." },
    { "id": "ACTIVO OBJETO DE INVERSIÓN", "type": "EVENT", "degree": 6, "description": "Activo de Inversión." },
    { "id": "MOODY'S", "type": "ORGANIZATION", "degree": 4, "description": "Moody's." },
    { "id": "FITCH IBCA", "type": "ORGANIZATION", "degree": 4, "description": "Fitch IBCA." },
    { "id": "MERCADO MEXICANO", "type": "GEO", "degree": 1, "description": "Mercado Mexicano." },
    { "id": "DERIVADOS", "type": "ORGANIZATION", "degree": 4, "description": "Derivados." },
    { "id": "ACTIVOS PERMITIDOS", "type": "ORGANIZATION", "degree": 3, "description": "Activos Permitidos." },
    { "id": "ESCENARIOS", "type": "EVENT", "degree": 1, "description": "Escenarios." },
    { "id": "VAR", "type": "EVENT", "degree": 3, "description": "Valor en Riesgo (VaR)." },
    { "id": "MANDATARIO", "type": "ORGANIZATION", "degree": 4, "description": "Mandatario." },
    { "id": "ACTIVO PERMITIDO", "type": "EVENT", "degree": 1, "description": "Activo Permitido." },
    { "id": "CÁLCULO DEL VAR", "type": "EVENT", "degree": 2, "description": "Cálculo del VaR." },
    { "id": "PORTAFOLIO DE REFERENCIA (PR)", "type": "ORGANIZATION", "degree": 1, "description": "Portafolio de Referencia." },
    { "id": "HOLGURA", "type": "EVENT", "degree": 1, "description": "Holgura." },
    { "id": "ESCENARIO", "type": "", "degree": 2, "description": "" },
    { "id": "BOLSA MEXICANA DE VALORES", "type": "ORGANIZATION", "degree": 2, "description": "Bolsa Mexicana de Valores." },
    { "id": "PROVEEDORES DE PRECIOS", "type": "ORGANIZATION", "degree": 1, "description": "Proveedores de Precios." },
    { "id": "SOCIEDADES VALUADORAS", "type": "ORGANIZATION", "degree": 1, "description": "Sociedades Valuadoras." },
    { "id": "EXPERTO INDEPENDIENTE", "type": "PERSON", "degree": 3, "description": "Experto Independiente." },
    { "id": "JUNTA DE GOBIERNO DE LA COMISIÓN", "type": "ORGANIZATION", "degree": 1, "description": "Junta de Gobierno de la Comisión." },
    { "id": "NOTAS", "type": "EVENT", "degree": 3, "description": "Notas." },
    { "id": "ESTRUCTURAS VINCULADAS A SUBYACENTES", "type": "EVENT", "degree": 3, "description": "Estructuras Vinculadas." },
    { "id": "COMPONENTES DE RENTA VARIABLE", "type": "", "degree": 3, "description": "" },
    { "id": "DELTA DEL VEHÍCULO", "type": "EVENT", "degree": 0, "description": "Delta del Vehículo." },
    { "id": "NOTA J", "type": "EVENT", "degree": 4, "description": "Nota J." },
    { "id": "ESTRUCTURA VINCULADA A SUBYACENTE J", "type": "EVENT", "degree": 4, "description": "Estructura Vinculada a Subyacente J." },
    { "id": "COMPONENTE DE RENTA VARIABLE J", "type": "EVENT", "degree": 4, "description": "Componente de Renta Variable J." },
    { "id": "RENTA VARIABLE", "type": "EVENT", "degree": 2, "description": "Renta Variable." },
    { "id": "FIBRA", "type": "ORGANIZATION", "degree": 4, "description": "FIBRA." },
    { "id": "VEHÍCULO DE INVERSIÓN INMOBILIARIA", "type": "ORGANIZATION", "degree": 4, "description": "Vehículo de Inversión Inmobiliaria." },
    { "id": "ESTRUCTURA VINCULADA A SUBYACENTE", "type": "EVENT", "degree": 2, "description": "Estructura Vinculada a Subyacente." },
    { "id": "NOTA", "type": "", "degree": 2, "description": "" },
    { "id": "PESOS MEXICANOS", "type": "ORGANIZATION", "degree": 1, "description": "MXN." },
    { "id": "DIVISAS", "type": "", "degree": 1, "description": "" },
    { "id": "ALEMANIA", "type": "GEO", "degree": 1, "description": "Alemania." },
    { "id": "HONG KONG", "type": "GEO", "degree": 1, "description": "Hong Kong." },
    { "id": "ARABIA SAUDITA", "type": "GEO", "degree": 1, "description": "Arabia Saudita." },
    { "id": "INDIA", "type": "GEO", "degree": 1, "description": "India." },
    { "id": "AUSTRALIA", "type": "GEO", "degree": 1, "description": "Australia." },
    { "id": "INGLATERRA", "type": "GEO", "degree": 1, "description": "Inglaterra." },
    { "id": "BÉLGICA", "type": "GEO", "degree": 1, "description": "Bélgica." },
    { "id": "ITALIA", "type": "GEO", "degree": 1, "description": "Italia." },
    { "id": "BRASIL", "type": "GEO", "degree": 1, "description": "Brasil." },
    { "id": "CANADÁ", "type": "GEO", "degree": 1, "description": "Canadá." },
    { "id": "LUXEMBURGO", "type": "GEO", "degree": 1, "description": "Luxemburgo." },
    { "id": "CHINA", "type": "GEO", "degree": 1, "description": "China." },
    { "id": "COREA DEL SUR", "type": "GEO", "degree": 1, "description": "Corea del Sur." },
    { "id": "PAÍSES BAJOS", "type": "GEO", "degree": 1, "description": "Países Bajos." },
    { "id": "ESPAÑA", "type": "GEO", "degree": 1, "description": "España." },
    { "id": "SINGAPUR", "type": "GEO", "degree": 1, "description": "Singapur." },
    { "id": "ESTADOS UNIDOS", "type": "GEO", "degree": 1, "description": "EE. UU." },
    { "id": "SUECIA", "type": "GEO", "degree": 1, "description": "Suecia." },
    { "id": "FRANCIA", "type": "GEO", "degree": 1, "description": "Francia." },
    { "id": "SUIZA", "type": "GEO", "degree": 1, "description": "Suiza." },
    { "id": "CHILE", "type": "", "degree": 1, "description": "" },
    { "id": "COLOMBIA", "type": "GEO", "degree": 1, "description": "Colombia." },
    { "id": "PERÚ", "type": "GEO", "degree": 1, "description": "Perú." },
    { "id": "HUNGRÍA", "type": "GEO", "degree": 0, "description": "Hungría." },
    { "id": "AUSTRIA", "type": "GEO", "degree": 0, "description": "Austria." },
    { "id": "BULGARIA", "type": "GEO", "degree": 0, "description": "Bulgaria." },
    { "id": "LETONIA", "type": "GEO", "degree": 0, "description": "Letonia." },
    { "id": "CHIPRE", "type": "GEO", "degree": 0, "description": "Chipre." },
    { "id": "LITUANIA", "type": "GEO", "degree": 0, "description": "Lituania." },
    { "id": "CROACIA", "type": "GEO", "degree": 0, "description": "Croacia." },
    { "id": "DINAMARCA", "type": "GEO", "degree": 0, "description": "Dinamarca." },
    { "id": "MALTA", "type": "GEO", "degree": 0, "description": "Malta." },
    { "id": "ESLOVAQUIA", "type": "GEO", "degree": 0, "description": "Eslovaquia." },
    { "id": "ESLOVENIA", "type": "GEO", "degree": 0, "description": "Eslovenia." },
    { "id": "POLONIA", "type": "GEO", "degree": 0, "description": "Polonia." },
    { "id": "PORTUGAL", "type": "GEO", "degree": 0, "description": "Portugal." },
    { "id": "ESTONIA", "type": "GEO", "degree": 0, "description": "Estonia." },
    { "id": "REINO UNIDO", "type": "GEO", "degree": 0, "description": "Reino Unido." },
    { "id": "FINLANDIA", "type": "GEO", "degree": 0, "description": "Finlandia." },
    { "id": "REPÚBLICA CHECA", "type": "GEO", "degree": 0, "description": "República Checa." },
    { "id": "RUMANÍA", "type": "GEO", "degree": 0, "description": "Rumanía." },
    { "id": "GRECIA", "type": "GEO", "degree": 0, "description": "Grecia." },
    { "id": "OCDE", "type": "ORGANIZATION", "degree": 1, "description": "OCDE." },
    { "id": "ISRAEL", "type": "GEO", "degree": 0, "description": "Israel." },
    { "id": "ISLANDIA", "type": "GEO", "degree": 0, "description": "Islandia." },
    { "id": "NORUEGA", "type": "GEO", "degree": 0, "description": "Noruega." },
    { "id": "EMIRATOS ÁRABES UNIDOS", "type": "GEO", "degree": 0, "description": "EAU." },
    { "id": "TAILANDIA", "type": "GEO", "degree": 0, "description": "Tailandia." },
    { "id": "INDONESIA", "type": "GEO", "degree": 0, "description": "Indonesia." },
    { "id": "TAIWÁN", "type": "GEO", "degree": 0, "description": "Taiwán." },
    { "id": "MALASIA", "type": "GEO", "degree": 0, "description": "Malasia." },
    { "id": "SUDÁFRICA", "type": "GEO", "degree": 0, "description": "Sudáfrica." },
    { "id": "NUEVA ZELANDA", "type": "GEO", "degree": 0, "description": "Nueva Zelanda." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 95-99", "type": "ORGANIZATION", "degree": 0, "description": "SIB 95-99." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 00-04", "type": "ORGANIZATION", "degree": 0, "description": "SIB 00-04." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 05-09", "type": "ORGANIZATION", "degree": 0, "description": "SIB 05-09." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 10-14", "type": "ORGANIZATION", "degree": 0, "description": "SIB 10-14." },
    { "id": "SOCIEDAD DE INVERSIÓN BÁSICA 15-19", "type": "ORGANIZATION", "degree": 0, "description": "SIB 15-19." },
    { "id": "BÁSICA", "type": "EVENT", "degree": 1, "description": "Básica." },
    { "id": "TRIMESTRE", "type": "EVENT", "degree": 1, "description": "Trimestre." },
    { "id": "ANEXO T100", "type": "EVENT", "degree": 2, "description": "Anexo T100." },
    { "id": "ANEXO U", "type": "EVENT", "degree": 2, "description": "Anexo U." }
  ],
  "edges": [
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 15.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "weight": 9.0 },
    { "source": "MOODY'S CORPORATION", "target": "MOODY'S LOCAL MÉXICO", "weight": 9.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "weight": 8.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 1.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "MOODY'S DE MÉXICO", "weight": 8.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "SIEFORE", "weight": 9.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "LEY DE LOS SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 8.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "REGULATIONS UPDATE", "weight": 1.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "REGULATIONS UPDATE", "weight": 8.0 },
    { "source": "DBRS MÉXICO", "target": "HR RATINGS", "weight": 8.0 },
    { "source": "DBRS MÉXICO", "target": "COMISIÓN NACIONAL BANCARIA Y DE VALORES (CNBV)", "weight": 7.0 },
    { "source": "DBRS MÉXICO", "target": "MORNINGSTAR", "weight": 6.0 },
    { "source": "DBRS MÉXICO", "target": "MÉXICO", "weight": 7.0 },
    { "source": "HR RATINGS", "target": "MÉXICO", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL DE MEJORA REGULATORIA", "target": "LEY GENERAL DE MEJORA REGULATORIA", "weight": 8.0 },
    { "source": "LEY DE LOS SISTEMAS DE AHORRO PARA EL RETIRO", "target": "LEY DEL MERCADO DE VALORES", "weight": 1.0 },
    { "source": "LEY DEL MERCADO DE VALORES", "target": "EMISORA SIMPLIFICADA", "weight": 1.0 },
    { "source": "INSTRUMENTOS ESTRUCTURADOS", "target": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "weight": 6.0 },
    { "source": "FIBRAS", "target": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "weight": 6.0 },
    { "source": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "target": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "weight": 6.0 },
    { "source": "ESTADOS UNIDOS MEXICANOS", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 8.0 },
    { "source": "ESTADOS UNIDOS MEXICANOS", "target": "EMPRESAS PÚBLICAS DEL ESTADO", "weight": 7.0 },
    { "source": "TRABAJADORES", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "ADMINISTRADORAS", "target": "SOCIEDAD DE INVERSIÓN", "weight": 7.0 },
    { "source": "ADMINISTRADORAS", "target": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "weight": 1.0 },
    { "source": "DECRETO", "target": "CONSTITUCIÓN POLÍTICA DE LOS ESTADOS UNIDOS MEXICANOS", "weight": 8.0 },
    { "source": "INSTRUMENTOS ESTRUCTURADOS", "target": "ANEXO S", "weight": 6.0 },
    { "source": "INSTRUMENTOS ESTRUCTURADOS", "target": "ANEXO S BIS", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "BANCO DE MÉXICO", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "INSTITUCIONES DE CRÉDITO", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "INSTITUCIONES CALIFICADORAS DE VALORES", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "BANCO DE MÉXICO", "weight": 6.0 },
    { "source": "BANCO DE MÉXICO", "target": "ESTADOS UNIDOS DE AMÉRICA", "weight": 5.0 },
    { "source": "BANCO DE MÉXICO", "target": "EUROPA", "weight": 5.0 },
    { "source": "BANCO DE MÉXICO", "target": "JAPÓN", "weight": 1.0 },
    { "source": "BANCO DE MÉXICO", "target": "SOCIEDADES DE INVERSIÓN", "weight": 21.0 },
    { "source": "BANCO DE MÉXICO", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 7.0 },
    { "source": "BANCO DE MÉXICO", "target": "COMITÉ DE INVERSIÓN", "weight": 6.0 },
    { "source": "BANCO DE MÉXICO", "target": "COMITÉ DE RIESGOS FINANCIEROS", "weight": 6.0 },
    { "source": "BANCO DE MÉXICO", "target": "COMITÉ DE VALUACIÓN", "weight": 1.0 },
    { "source": "SECRETARÍA DE ENERGÍA", "target": "EMPRESAS PÚBLICAS DEL ESTADO", "weight": 15.0 },
    { "source": "PETRÓLEOS MEXICANOS", "target": "COMISIÓN FEDERAL DE ELECTRICIDAD", "weight": 7.0 },
    { "source": "GOBIERNO FEDERAL", "target": "BANCO DE MÉXICO", "weight": 8.0 },
    { "source": "GOBIERNO DE LA CIUDAD DE MÉXICO", "target": "ENTIDADES FINANCIERAS", "weight": 6.0 },
    { "source": "ENTIDADES FINANCIERAS", "target": "FIBRAS", "weight": 1.0 },
    { "source": "ENTIDADES FINANCIERAS", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 1.0 },
    { "source": "FIBRAS", "target": "FIBRAS GENÉRICAS", "weight": 7.0 },
    { "source": "EMISORA SIMPLIFICADA", "target": "EMISORES NACIONALES", "weight": 5.0 },
    { "source": "EMISORES NACIONALES", "target": "EMISORES EXTRANJEROS", "weight": 7.0 },
    { "source": "FIBRA-E", "target": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "weight": 8.0 },
    { "source": "FONDOS MUTUOS", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 7.0 },
    { "source": "FONDOS MUTUOS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 1.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES ACCIONARIOS DE PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 6.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES INMOBILIARIOS DE PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 6.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES DE DEUDA DE PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 6.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES DE MERCANCÍAS", "weight": 9.0 },
    { "source": "LEY DEL IMPUESTO SOBRE LA RENTA", "target": "DOF", "weight": 7.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "BANCO DE MÉXICO", "weight": 5.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 11.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "INSTRUMENTOS BURSATILIZADOS", "weight": 7.0 },
    { "source": "BANCO DE MÉXICO", "target": "EMISORES NACIONALES", "weight": 1.0 },
    { "source": "LEY DE INSTITUCIONES DE CRÉDITO", "target": "INSTITUCIONES DE CRÉDITO", "weight": 15.0 },
    { "source": "EMISORES NACIONALES", "target": "INSTRUMENTOS DE DEUDA", "weight": 6.0 },
    { "source": "EMISORES NACIONALES", "target": "FIBRAS", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "INSTRUMENTOS DE DEUDA HÍBRIDOS", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "INSTRUMENTOS ESTRUCTURADOS", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "LEY DEL MERCADO DE VALORES", "weight": 7.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "INSTRUMENTOS DE DEUDA HÍBRIDOS", "weight": 8.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "INSTRUMENTOS ESTRUCTURADOS", "weight": 1.0 },
    { "source": "INSTRUMENTOS BURSATILIZADOS", "target": "LEY DEL MERCADO DE VALORES", "weight": 6.0 },
    { "source": "CERTIFICADOS BURSÁTILES FIDUCIARIOS DE PROYECTOS DE INVERSIÓN", "target": "LEY DEL MERCADO DE VALORES", "weight": 1.0 },
    { "source": "COMISIÓN", "target": "SOCIEDADES DE INVERSIÓN", "weight": 23.0 },
    { "source": "COMISIÓN", "target": "LEY DE LOS SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 1.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "MANDATARIOS", "weight": 8.0 },
    { "source": "EMISORES NACIONALES", "target": "LEY DEL MERCADO DE VALORES", "weight": 8.0 },
    { "source": "ADMINISTRADORAS", "target": "SOCIEDADES DE INVERSIÓN", "weight": 9.0 },
    { "source": "ADMINISTRADORAS", "target": "GRUPO FINANCIERO", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "MANDATARIOS", "weight": 20.0 },
    { "source": "BANCO DE MÉXICO", "target": "MERCANCÍAS", "weight": 6.0 },
    { "source": "ESTADOS UNIDOS MEXICANOS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 1.0 },
    { "source": "COMITÉ SOBRE EL SISTEMA FINANCIERO GLOBAL", "target": "BANCO DE PAGOS INTERNACIONALES", "weight": 10.0 },
    { "source": "ALIANZA DEL PACÍFICO", "target": "MERCADO INTEGRADO LATINOAMERICANO", "weight": 8.0 },
    { "source": "ORGANIZACIÓN PARA LA COOPERACIÓN Y EL DESARROLLO ECONÓMICO", "target": "MÉXICO", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "SOCIEDADES DE INVERSIÓN", "weight": 14.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "SOCIEDADES DE INVERSIÓN ADICIONALES", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "PROVEEDOR DE PRECIOS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "SOCIEDAD VALUADORA", "weight": 6.0 },
    { "source": "INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "target": "LEY DEL INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "weight": 9.0 },
    { "source": "LEY DEL SEGURO SOCIAL", "target": "SUBCUENTA DEL SEGURO DE RETIRO", "weight": 8.0 },
    { "source": "LEY DEL SEGURO SOCIAL", "target": "SUBCUENTA DE RCV IMSS", "weight": 1.0 },
    { "source": "LEY DEL INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "target": "SUBCUENTA DE AHORRO PARA EL RETIRO", "weight": 8.0 },
    { "source": "LEY DEL INSTITUTO DE SEGURIDAD Y SERVICIOS SOCIALES DE LOS TRABAJADORES DEL ESTADO", "target": "SUBCUENTA DE AHORRO SOLIDARIO", "weight": 8.0 },
    { "source": "CASAS DE BOLSA", "target": "ENTIDADES FINANCIERAS", "weight": 5.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 7.0 },
    { "source": "IMSS", "target": "ISSSTE", "weight": 7.0 },
    { "source": "IMSS", "target": "MEXICO", "weight": 9.0 },
    { "source": "IMSS", "target": "TRABAJADORES", "weight": 7.0 },
    { "source": "ISSSTE", "target": "MEXICO", "weight": 9.0 },
    { "source": "ISSSTE", "target": "TRABAJADORES", "weight": 7.0 },
    { "source": "BANCO DE MÉXICO", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 8.0 },
    { "source": "BANCO DE MÉXICO", "target": "MEXICO", "weight": 10.0 },
    { "source": "BANCO DE MÉXICO", "target": "UNIDADES DE INVERSIÓN", "weight": 1.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "MEXICO", "weight": 10.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "FIBRAS", "weight": 16.0 },
    { "source": "GOBIERNO FEDERAL", "target": "SOCIEDADES DE INVERSIÓN", "weight": 6.0 },
    { "source": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "target": "REITS", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 17.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 13.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "MERCADOS NACIONALES", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "MERCADOS EXTRANJEROS", "weight": 1.0 },
    { "source": "BANCO DE MÉXICO", "target": "INSTITUCIONES CALIFICADORAS DE VALORES", "weight": 1.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "INSTITUCIONES CALIFICADORAS DE VALORES", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "INSTITUCIONES DE CRÉDITO", "weight": 7.0 },
    { "source": "EMISORES NACIONALES", "target": "CONTRAPARTES", "weight": 5.0 },
    { "source": "CONTRAPARTES", "target": "EMISORES EXTRANJEROS", "weight": 5.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "COMISIÓN", "weight": 21.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "SOCIEDADES DE INVERSIÓN", "weight": 13.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ADMINISTRADORAS", "weight": 11.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "VEHÍCULOS", "weight": 8.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES ACCIONARIOS", "weight": 8.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES INMOBILIARIOS", "weight": 8.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ÍNDICES DE DEUDA", "weight": 8.0 },
    { "source": "COMISIÓN", "target": "COMITÉ CONSULTIVO Y DE VIGILANCIA", "weight": 7.0 },
    { "source": "COMISIÓN", "target": "JUNTA DE GOBIERNO", "weight": 13.0 },
    { "source": "COMISIÓN", "target": "ADMINISTRADORAS", "weight": 24.0 },
    { "source": "COMISIÓN", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 32.0 },
    { "source": "COMISIÓN", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 1.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "ADMINISTRADORAS", "weight": 15.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 40.0 },
    { "source": "ADMINISTRADORAS", "target": "BASE DE DATOS NACIONAL SAR", "weight": 7.0 },
    { "source": "COMITÉ DE INVERSIÓN", "target": "SOCIEDAD DE INVERSIÓN", "weight": 9.0 },
    { "source": "COMITÉ DE INVERSIÓN", "target": "COMITÉ DE RIESGOS FINANCIEROS", "weight": 1.0 },
    { "source": "COMITÉ DE INVERSIÓN", "target": "TRAYECTORIA DE INVERSIÓN", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "weight": 8.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 29.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ADMINISTRADORA", "weight": 16.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ANEXO O", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ANEXO W", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "BASE DE DATOS NACIONAL SAR", "weight": 8.0 },
    { "source": "COMISIÓN", "target": "COMITÉ DE VALUACIÓN", "weight": 5.0 },
    { "source": "COMISIÓN", "target": "VEHÍCULOS", "weight": 6.0 },
    { "source": "COMISIÓN", "target": "SOCIEDAD DE INVERSIÓN", "weight": 36.0 },
    { "source": "COMISIÓN", "target": "MANDATARIOS", "weight": 6.0 },
    { "source": "COMISIÓN", "target": "FIBRAS", "weight": 5.0 },
    { "source": "COMISIÓN", "target": "INSTRUMENTOS ESTRUCTURADOS", "weight": 1.0 },
    { "source": "COMITÉ DE VALUACIÓN", "target": "COMISIÓN", "weight": 7.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ADMINISTRADORA", "weight": 24.0 },
    { "source": "SISTEMAS DE AHORRO PARA EL RETIRO", "target": "SOCIEDADES DE INVERSIÓN BÁSICAS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SOCIEDAD DE INVERSIÓN BÁSICA INICIAL", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "RCV IMSS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "RCV ISSSTE", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SUBCUENTA DE AHORRO SOLIDARIO", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SUBCUENTA DEL SEGURO DE RETIRO", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SUBCUENTA DE AHORRO PARA EL RETIRO", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "BANCO DE MÉXICO", "weight": 7.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "GOBIERNO FEDERAL", "weight": 7.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "COMISIÓN", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "TRABAJADORES", "weight": 6.0 },
    { "source": "BANCO DE MÉXICO", "target": "INSTRUMENTOS DE DEUDA", "weight": 7.0 },
    { "source": "GOBIERNO FEDERAL", "target": "INSTRUMENTOS DE DEUDA", "weight": 1.0 },
    { "source": "UNIDADES DE INVERSIÓN", "target": "INSTRUMENTOS DE DEUDA", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "VALORES EXTRANJEROS", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "CERTIFICADOS BURSÁTILES FIDUCIARIOS", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "INSTRUMENTOS ESTRUCTURADOS", "weight": 13.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "BOLSA DE VALORES", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "COMISIÓN", "weight": 16.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ANEXO S", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ANEXO K", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "DÉCIMA OCTAVA", "weight": 1.0 },
    { "source": "COMISIÓN", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 12.0 },
    { "source": "ANEXO J", "target": "SOCIEDADES DE INVERSIÓN BÁSICAS DE PENSIONES", "weight": 6.0 },
    { "source": "DÉCIMA TERCERA", "target": "SOCIEDADES DE INVERSIÓN BÁSICAS", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "COMISIÓN", "weight": 17.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "BANCO DE MÉXICO", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 9.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "MANDATARIOS", "weight": 8.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "ENTIDADES FINANCIERAS", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "DOF", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "MERCANCÍAS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "FIBRAS", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "EMPRESAS PRIVADAS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "NEXOS PATRIMONIALES", "weight": 1.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "SOCIEDADES DE INVERSIÓN BÁSICAS", "weight": 15.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "SOCIEDADES DE INVERSIÓN BÁSICAS DE PENSIONES", "weight": 8.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "SOCIEDAD VALUADORA", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS DE PENSIONES", "target": "SOCIEDAD VALUADORA", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS DE PENSIONES", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 1.0 },
    { "source": "ADMINISTRADORA", "target": "PROVEEDOR DE PRECIOS", "weight": 6.0 },
    { "source": "DOF", "target": "SOCIEDAD DE INVERSIÓN", "weight": 8.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "INSTRUMENTOS DE DEUDA", "weight": 8.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "CERTIFICADOS BURSÁTILES", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "CERTIFICADOS DE PARTICIPACIÓN", "weight": 1.0 },
    { "source": "INSTRUMENTOS DE DEUDA", "target": "VEHÍCULOS DE INVERSIÓN", "weight": 1.0 },
    { "source": "CERTIFICADOS BURSÁTILES", "target": "ENTIDAD FINANCIERA", "weight": 5.0 },
    { "source": "CERTIFICADOS DE PARTICIPACIÓN", "target": "BANCO", "weight": 5.0 },
    { "source": "CERTIFICADOS DE PARTICIPACIÓN", "target": "CASA DE BOLSA", "weight": 5.0 },
    { "source": "BANCO", "target": "CONTRAPARTE", "weight": 5.0 },
    { "source": "BANCO", "target": "CASA DE BOLSA", "weight": 5.0 },
    { "source": "BANCO", "target": "ENTIDAD FINANCIERA", "weight": 5.0 },
    { "source": "BANCO", "target": "SOCIEDAD ANÓNIMA", "weight": 5.0 },
    { "source": "COMITÉ DE INVERSIÓN", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 6.0 },
    { "source": "FIBRAS", "target": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "weight": 2.0 },
    { "source": "VALOR EXTRANJERO DE DEUDA", "target": "INSTRUMENTO DE DEUDA", "weight": 6.0 },
    { "source": "INSTRUMENTOS BURSATILIZADOS", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 7.0 },
    { "source": "COMISIÓN", "target": "ADMINISTRADORA", "weight": 8.0 },
    { "source": "CONSEJO DE ADMINISTRACIÓN", "target": "ADMINISTRADORA", "weight": 7.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "ADMINISTRADORA", "weight": 6.0 },
    { "source": "ADMINISTRADORA", "target": "SOCIEDADES DE INVERSIÓN BÁSICA", "weight": 7.0 },
    { "source": "ADMINISTRADORA", "target": "MANDATARIOS", "weight": 1.0 },
    { "source": "ADMINISTRADORA", "target": "VEHÍCULOS", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICA", "target": "EMISORES EXTRANJEROS", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICA", "target": "EMISORES NACIONALES", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICA", "target": "FIBRAS", "weight": 4.0 },
    { "source": "EMISORES EXTRANJEROS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 5.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "INSTRUMENTOS DE DEUDA", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "VALORES EXTRANJEROS DE DEUDA", "weight": 11.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "INSTRUMENTOS BURSATILIZADOS", "weight": 11.0 },
    { "source": "ADMINISTRADORA", "target": "COMISIÓN", "weight": 8.0 },
    { "source": "ADMINISTRADORA", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "BANCO DE MÉXICO", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "GOBIERNO FEDERAL", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "CERTIFICADOS BURSÁTILES FIDUCIARIOS DE PROYECTOS DE INVERSIÓN", "weight": 6.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "COMISIÓN", "weight": 8.0 },
    { "source": "COMISIÓN", "target": "TRAYECTORIA DE INVERSIÓN", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "ADMINISTRADORAS", "weight": 9.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "FUSIÓN O CESIÓN DE CARTERA", "weight": 7.0 },
    { "source": "ADMINISTRADORAS", "target": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "weight": 1.0 },
    { "source": "SISTEMAS DE AHORRO PARA EL RETIRO", "target": "CERTIFICADOS BURSÁTILES VINCULADOS A PROYECTOS REALES", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 1", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 2", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 3", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 4", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "VIERNES 13 DE DICIEMBRE DE 2019", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "target": "TRABAJADORES", "weight": 8.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS INICIAL, 90-94, 80-84, 70-74, 65-69", "target": "COMISIÓN", "weight": 7.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS INICIAL, 90-94, 80-84, 70-74, 65-69", "target": "INDEVAL, S.D.", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS INICIAL, 90-94, 80-84, 70-74, 65-69", "target": "TRABAJADORES", "weight": 6.0 },
    { "source": "VIERNES 13 DE DICIEMBRE DE 2019", "target": "ADMINISTRADORAS", "weight": 1.0 },
    { "source": "ADMINISTRADORAS", "target": "TRABAJADORES", "weight": 7.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA DE PENSIONES", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 55-59", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 60-64", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 65-69", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 70-74", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 75-79", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 80-84", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 85-89", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA 90-94", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN BÁSICA", "target": "SOCIEDAD DE INVERSIÓN BÁSICA INICIAL", "weight": 1.0 },
    { "source": "ANEXO L", "target": "DOF", "weight": 1.0 },
    { "source": "DOF", "target": "ANEXO S", "weight": 5.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "weight": 30.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "ABRAHAM E. VELA DIB", "weight": 18.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "CIUDAD DE MÉXICO", "weight": 14.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "LEY GENERAL DE MEJORA REGULATORIA", "weight": 1.0 },
    { "source": "COMISIÓN", "target": "DISPOSICIONES DE CARÁCTER GENERAL", "weight": 7.0 },
    { "source": "PROGRAMA DE RECOMPOSICIÓN DE CARTERAS", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "ANEXOS A, F, J, B, G, K, C, H, I, D, E", "target": "SOCIEDAD DE INVERSIÓN", "weight": 1.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "CIUDAD DE MÉXICO", "weight": 2.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "ACUERDO", "weight": 8.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "MÉXICO, D.F.", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "IVÁN HILMARDEL PLIEGO MORENO", "weight": 9.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "ACUERDO", "weight": 7.0 },
    { "source": "ACUERDO", "target": "SOCIEDADES DE INVERSIÓN ESPECIALIZADAS DE FONDOS PARA EL RETIRO", "weight": 8.0 },
    { "source": "ACUERDO", "target": "ANEXOS “A”, “B”, “C”, “D”, Y “E”", "weight": 7.0 },
    { "source": "ACUERDO", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "JULIO CÉSAR CERVANTES PARRA", "weight": 27.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "ANEXOS A, B, C, D, E, F, G, H, I, J, K", "weight": 1.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "ANEXOS A, B, C, D, E, F, G, H, I, J, K", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 7.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "EMISORA SIMPLIFICADA", "weight": 6.0 },
    { "source": "SISTEMAS DE AHORRO PARA EL RETIRO", "target": "COMITÉ DE ANÁLISIS DE RIESGOS", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "MAYO DE 2019", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "MAYO DE 2021", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "JUNIO DE 2022", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "AGOSTO DE 2023", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "MAYO DE 2024", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "OCTUBRE DE 2024", "weight": 7.0 },
    { "source": "DIARIO OFICIAL DE LA FEDERACIÓN", "target": "JUNIO DE 2025", "weight": 1.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "FITCH MEXICO", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "MOODY’S LOCAL MÉXICO", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "VERUM", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "STANDARD & POOR’S", "weight": 6.0 },
    { "source": "COMISIÓN NACIONAL DEL SISTEMA DE AHORRO PARA EL RETIRO", "target": "HR RATINGS DE MEXICO", "weight": 1.0 },
    { "source": "FITCH MEXICO", "target": "MOODY'S LOCAL MÉXICO", "weight": 7.0 },
    { "source": "FITCH MEXICO", "target": "VERUM", "weight": 7.0 },
    { "source": "FITCH MEXICO", "target": "STANDARD & POOR'S", "weight": 7.0 },
    { "source": "FITCH MEXICO", "target": "HR RATINGS DE MEXICO", "weight": 7.0 },
    { "source": "FITCH MEXICO", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 5.0 },
    { "source": "FITCH MEXICO", "target": "MEXICO", "weight": 8.0 },
    { "source": "FITCH MEXICO", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 7.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "VERUM", "weight": 7.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "STANDARD & POOR'S", "weight": 7.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "HR RATINGS DE MEXICO", "weight": 7.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 5.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "MEXICO", "weight": 8.0 },
    { "source": "MOODY'S LOCAL MÉXICO", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 7.0 },
    { "source": "VERUM", "target": "STANDARD & POOR'S", "weight": 7.0 },
    { "source": "VERUM", "target": "HR RATINGS DE MEXICO", "weight": 7.0 },
    { "source": "VERUM", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 5.0 },
    { "source": "VERUM", "target": "MEXICO", "weight": 8.0 },
    { "source": "VERUM", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 7.0 },
    { "source": "STANDARD & POOR'S", "target": "HR RATINGS DE MEXICO", "weight": 13.0 },
    { "source": "STANDARD & POOR'S", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 5.0 },
    { "source": "STANDARD & POOR'S", "target": "MEXICO", "weight": 8.0 },
    { "source": "STANDARD & POOR'S", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 7.0 },
    { "source": "HR RATINGS DE MEXICO", "target": "DIARIO OFICIAL DE LA FEDERACIÓN", "weight": 2.0 },
    { "source": "HR RATINGS DE MEXICO", "target": "MEXICO", "weight": 8.0 },
    { "source": "HR RATINGS DE MEXICO", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 1.0 },
    { "source": "PAÍSES ELEGIBLES PARA INVERSIONES", "target": "ACTIVO OBJETO DE INVERSIÓN", "weight": 6.0 },
    { "source": "MOODY'S", "target": "FITCH IBCA", "weight": 7.0 },
    { "source": "MOODY'S", "target": "STANDARD & POOR'S", "weight": 7.0 },
    { "source": "MOODY'S", "target": "HR RATINGS DE MEXICO", "weight": 6.0 },
    { "source": "FITCH IBCA", "target": "STANDARD & POOR'S", "weight": 7.0 },
    { "source": "FITCH IBCA", "target": "HR RATINGS DE MEXICO", "weight": 6.0 },
    { "source": "MERCADO MEXICANO", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 1.0 },
    { "source": "MOODY'S", "target": "ADMINISTRADORAS", "weight": 5.0 },
    { "source": "FITCH IBCA", "target": "ADMINISTRADORAS", "weight": 5.0 },
    { "source": "STANDARD & POOR'S", "target": "ADMINISTRADORAS", "weight": 5.0 },
    { "source": "HR RATINGS DE MEXICO", "target": "ADMINISTRADORAS", "weight": 5.0 },
    { "source": "ADMINISTRADORAS", "target": "PAÍSES ELEGIBLES PARA INVERSIONES", "weight": 2.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "PROVEEDOR DE PRECIOS", "weight": 14.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "SOCIEDAD VALUADORA", "weight": 6.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "COMISIÓN NACIONAL BANCARIA Y DE VALORES", "weight": 8.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "SOCIEDAD DE INVERSIÓN", "weight": 7.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "ADMINISTRADORA", "weight": 14.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ACTIVOS PERMITIDOS", "weight": 8.0 },
    { "source": "ADMINISTRADORA", "target": "SOCIEDAD VALUADORA", "weight": 1.0 },
    { "source": "DERIVADOS", "target": "ACTIVOS PERMITIDOS", "weight": 1.0 },
    { "source": "ACTIVOS PERMITIDOS", "target": "VALORES EXTRANJEROS", "weight": 6.0 },
    { "source": "ESCENARIOS", "target": "VAR", "weight": 7.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "SOCIEDAD VALUADORA", "weight": 7.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "SISTEMAS DE AHORRO PARA EL RETIRO", "weight": 8.0 },
    { "source": "PROVEEDOR DE PRECIOS", "target": "ACTIVO PERMITIDO", "weight": 7.0 },
    { "source": "ADMINISTRADORA", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "ADMINISTRADORA", "target": "CÁLCULO DEL VAR", "weight": 8.0 },
    { "source": "SOCIEDAD VALUADORA", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "SOCIEDAD VALUADORA", "target": "CÁLCULO DEL VAR", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "MANDATARIO", "weight": 17.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "PORTAFOLIO DE REFERENCIA (PR)", "weight": 8.0 },
    { "source": "SOCIEDADES DE INVERSIÓN BÁSICAS", "target": "VAR", "weight": 1.0 },
    { "source": "VAR", "target": "ESCENARIO", "weight": 8.0 },
    { "source": "HOLGURA", "target": "ESCENARIO", "weight": 1.0 },
    { "source": "COMISIÓN", "target": "PROVEEDORES DE PRECIOS", "weight": 4.0 },
    { "source": "COMISIÓN", "target": "SOCIEDADES VALUADORAS", "weight": 5.0 },
    { "source": "COMITÉ DE ANÁLISIS DE RIESGOS", "target": "BOLSA MEXICANA DE VALORES", "weight": 1.0 },
    { "source": "BOLSA MEXICANA DE VALORES", "target": "SOCIEDAD DE INVERSIÓN", "weight": 1.0 },
    { "source": "ADMINISTRADORAS", "target": "EXPERTO INDEPENDIENTE", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "DOF", "weight": 5.0 },
    { "source": "COMITÉ CONSULTIVO Y DE VIGILANCIA", "target": "EXPERTO INDEPENDIENTE", "weight": 6.0 },
    { "source": "JUNTA DE GOBIERNO DE LA COMISIÓN", "target": "EXPERTO INDEPENDIENTE", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "DOF", "weight": 1.0 },
    { "source": "NOTAS", "target": "COMPONENTES DE RENTA VARIABLE", "weight": 6.0 },
    { "source": "NOTAS", "target": "ESTRUCTURAS VINCULADAS A SUBYACENTES", "weight": 1.0 },
    { "source": "ESTRUCTURAS VINCULADAS A SUBYACENTES", "target": "COMPONENTES DE RENTA VARIABLE", "weight": 6.0 },
    { "source": "VEHÍCULOS", "target": "COMPONENTES DE RENTA VARIABLE", "weight": 5.0 },
    { "source": "NOTA J", "target": "ESTRUCTURA VINCULADA A SUBYACENTE J", "weight": 7.0 },
    { "source": "NOTA J", "target": "COMPONENTE DE RENTA VARIABLE J", "weight": 7.0 },
    { "source": "NOTA J", "target": "VEHÍCULOS", "weight": 6.0 },
    { "source": "NOTA J", "target": "DERIVADOS", "weight": 6.0 },
    { "source": "ESTRUCTURA VINCULADA A SUBYACENTE J", "target": "COMPONENTE DE RENTA VARIABLE J", "weight": 7.0 },
    { "source": "ESTRUCTURA VINCULADA A SUBYACENTE J", "target": "VEHÍCULOS", "weight": 6.0 },
    { "source": "ESTRUCTURA VINCULADA A SUBYACENTE J", "target": "DERIVADOS", "weight": 6.0 },
    { "source": "COMPONENTE DE RENTA VARIABLE J", "target": "VEHÍCULOS", "weight": 6.0 },
    { "source": "COMPONENTE DE RENTA VARIABLE J", "target": "DERIVADOS", "weight": 6.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "MANDATARIO", "weight": 1.0 },
    { "source": "SOCIEDADES DE INVERSIÓN", "target": "RENTA VARIABLE", "weight": 5.0 },
    { "source": "MANDATARIO", "target": "RENTA VARIABLE", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "FIBRAS", "weight": 28.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "weight": 23.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "NOTAS", "weight": 13.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ESTRUCTURAS VINCULADAS A SUBYACENTES", "weight": 8.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "MANDATARIOS", "weight": 1.0 },
    { "source": "FIBRA", "target": "VEHÍCULO DE INVERSIÓN INMOBILIARIA", "weight": 7.0 },
    { "source": "FIBRA", "target": "MÉXICO", "weight": 8.0 },
    { "source": "FIBRA", "target": "NOTA", "weight": 6.0 },
    { "source": "FIBRA", "target": "ESTRUCTURA VINCULADA A SUBYACENTE", "weight": 6.0 },
    { "source": "VEHÍCULO DE INVERSIÓN INMOBILIARIA", "target": "MÉXICO", "weight": 1.0 },
    { "source": "VEHÍCULO DE INVERSIÓN INMOBILIARIA", "target": "NOTA", "weight": 6.0 },
    { "source": "VEHÍCULO DE INVERSIÓN INMOBILIARIA", "target": "ESTRUCTURA VINCULADA A SUBYACENTE", "weight": 1.0 },
    { "source": "PESOS MEXICANOS", "target": "DIVISAS", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "COMITÉ DE VALUACIÓN", "weight": 7.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "COMISIÓN", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "TRABAJADORES", "weight": 13.0 },
    { "source": "ADMINISTRADORA", "target": "MANDATARIO", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ALEMANIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "HONG KONG", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ARABIA SAUDITA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "INDIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "AUSTRALIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "INGLATERRA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "BÉLGICA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ITALIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "BRASIL", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "JAPÓN", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "CANADÁ", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "LUXEMBURGO", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "CHINA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "MÉXICO", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "COREA DEL SUR", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "PAÍSES BAJOS", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ESPAÑA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "SINGAPUR", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ESTADOS UNIDOS", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "SUECIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "FRANCIA", "weight": 5.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "SUIZA", "weight": 1.0 },
    { "source": "ALIANZA DEL PACÍFICO", "target": "MÉXICO", "weight": 6.0 },
    { "source": "ALIANZA DEL PACÍFICO", "target": "CHILE", "weight": 6.0 },
    { "source": "ALIANZA DEL PACÍFICO", "target": "COLOMBIA", "weight": 6.0 },
    { "source": "ALIANZA DEL PACÍFICO", "target": "PERÚ", "weight": 1.0 },
    { "source": "MÉXICO", "target": "OCDE", "weight": 7.0 },
    { "source": "COLOMBIA", "target": "ALIANZA DEL PACÍFICO", "weight": 8.0 },
    { "source": "PERÚ", "target": "ALIANZA DEL PACÍFICO", "weight": 8.0 },
    { "source": "COMISIÓN", "target": "DOF", "weight": 1.0 },
    { "source": "COMISIÓN", "target": "BÁSICA", "weight": 1.0 },
    { "source": "FIBRAS", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "VEHÍCULOS DE INVERSIÓN INMOBILIARIA", "target": "SOCIEDAD DE INVERSIÓN", "weight": 6.0 },
    { "source": "DOF", "target": "ANEXO S BIS", "weight": 1.0 },
    { "source": "ANEXO S BIS", "target": "SOCIEDAD DE INVERSIÓN", "weight": 7.0 },
    { "source": "ANEXO S BIS", "target": "TRIMESTRE", "weight": 1.0 },
    { "source": "DOF", "target": "ANEXO T100", "weight": 5.0 },
    { "source": "DOF", "target": "ANEXO U", "weight": 5.0 },
    { "source": "DOF", "target": "MEXICO", "weight": 1.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ANEXO T100", "weight": 6.0 },
    { "source": "SOCIEDAD DE INVERSIÓN", "target": "ANEXO U", "weight": 6.0 }
  ]
};

window.addEventListener('load', () => {
    // Basic D3 check
    if (typeof d3 === 'undefined') {
        console.error("D3 Library not loaded.");
        document.getElementById("graph-container").innerHTML = "<div class='p-4 text-red-500'>Error: Could not load visualization library. Please check your connection.</div>";
        return;
    }

    try {
        const container = document.getElementById("graph-container");
        const width = container.clientWidth;
        const height = container.clientHeight;

        // 1. Data Cleaning
        const graphData = JSON.parse(JSON.stringify(rawData)); // Deep clone
        graphData.nodes.forEach(n => {
            if (!n.type || n.type === "") n.type = "UNKNOWN";
        });

        // Ensure edges is initialized
        if (!graphData.edges) {
            console.warn("Edges array missing, initializing empty array.");
            graphData.edges = [];
        }

        // Filter out orphaned edges
        const nodeIds = new Set(graphData.nodes.map(n => n.id));
        graphData.edges = graphData.edges.filter(e => {
            return nodeIds.has(e.source) && nodeIds.has(e.target);
        });

        // --- METRICS CALCULATION START ---
        calculateAndDisplayMetrics(graphData.nodes, graphData.edges);
        // --- METRICS CALCULATION END ---

        // 2. Configuration
        const colorMap = {
            "ORGANIZATION": "#3b82f6", // Blue
            "PERSON": "#22c55e",       // Green
            "GEO": "#ef4444",          // Red
            "EVENT": "#eab308",        // Yellow
            "GOV_BODY": "#a855f7",     // Purple
            "GOV_OFFICE": "#6366f1",   // Indigo
            "FINANCIAL": "#f97316",    // Orange
            "UNKNOWN": "#94a3b8"       // Grey
        };

        const getTypeColor = (type) => colorMap[type] || colorMap["UNKNOWN"];

        // 3. D3 Setup
        const zoom = d3.zoom()
            .scaleExtent([0.1, 8])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });

        const svg = d3.select("#graph-container")
            .append("svg")
            .attr("width", "100%")
            .attr("height", "100%")
            .attr("viewBox", [0, 0, width, height])
            .call(zoom)
            .on("dblclick.zoom", null); 

        const g = svg.append("g");

        // Scale for Link Distance (Inverse Weight)
        const maxWeight = d3.max(graphData.edges, d => d.weight) || 1;
        const weightToDistance = d3.scaleLinear()
            .domain([1, maxWeight])
            .range([200, 50]); // Weak links -> Long, Strong links -> Short

        // Scale for Node Size
        const maxDegree = d3.max(graphData.nodes, d => d.degree) || 1;
        
        // Force Simulation
        const simulation = d3.forceSimulation(graphData.nodes)
            .force("link", d3.forceLink(graphData.edges)
                .id(d => d.id)
                .distance(d => weightToDistance(d.weight || 1))
            )
            .force("charge", d3.forceManyBody().strength(-300))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("x", d3.forceX(width / 2).strength(0.05))
            .force("y", d3.forceY(height / 2).strength(0.05))
            .force("collide", d3.forceCollide().radius(d => (5 + (d.degree * 1.2)) + 5).iterations(2));

        // Render Links
        const link = g.append("g")
            .attr("class", "links")
            .selectAll("line")
            .data(graphData.edges)
            .join("line")
            .attr("stroke-width", 1.5);

        // Render Nodes
        const node = g.append("g")
            .attr("class", "nodes")
            .selectAll("circle")
            .data(graphData.nodes)
            .join("circle")
            .attr("r", d => 5 + (d.degree * 1.2)) 
            .attr("fill", d => getTypeColor(d.type))
            .call(drag(simulation));

        // Render Labels
        const label = g.append("g")
            .attr("class", "labels")
            .selectAll("text")
            .data(graphData.nodes)
            .join("text")
            .attr("dy", d => - (8 + (d.degree * 1.2)))
            .attr("text-anchor", "middle")
            .style("font-size", d => Math.max(10, 8 + (d.degree * 0.3)) + "px")
            .style("fill", "#334155")
            .style("opacity", d => d.degree > 3 ? 1 : 0.7)
            .text(d => d.id.length > 20 ? d.id.substring(0, 18) + "..." : d.id);

        // Interactions
        const tooltip = document.getElementById("tooltip");

        node.on("mouseover", (event, d) => {
            d3.select(event.currentTarget).attr("stroke", "#1e293b").attr("stroke-width", 3);
            link.style("stroke", l => (l.source === d || l.target === d) ? "#475569" : "#cbd5e1")
                .style("stroke-opacity", l => (l.source === d || l.target === d) ? 1 : 0.1)
                .attr("stroke-width", l => (l.source === d || l.target === d) ? 3 : 1.5);

            tooltip.style.opacity = 1;
            tooltip.innerHTML = `
                <div class="font-bold text-lg mb-1" style="color:${getTypeColor(d.type)}">${d.id}</div>
                <div class="text-xs font-semibold text-gray-500 mb-2 border-b pb-1">${d.type} • Connections: ${d.degree}</div>
                <div class="leading-relaxed text-sm">${d.description || "No description available."}</div>
            `;
            
            const tooltipWidth = tooltip.offsetWidth;
            const tooltipHeight = tooltip.offsetHeight;
            let left = event.pageX + 15;
            let top = event.pageY + 15;

            if (left + tooltipWidth > window.innerWidth) left = event.pageX - tooltipWidth - 15;
            if (top + tooltipHeight > window.innerHeight) top = event.pageY - tooltipHeight - 15;

            tooltip.style.left = left + "px";
            tooltip.style.top = top + "px";
        })
        .on("mouseout", (event, d) => {
            d3.select(event.currentTarget).attr("stroke", "#fff").attr("stroke-width", 2);
            link.style("stroke", "#94a3b8").style("stroke-opacity", 0.6).attr("stroke-width", 1.5);
            tooltip.style.opacity = 0;
        })
        .on("dblclick", (event, d) => {
            delete d.fx;
            delete d.fy;
            d3.select(event.currentTarget).classed("pinned", false);
            simulation.alpha(0.3).restart();
        });

        // Simulation Tick
        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);

            label
                .attr("x", d => d.x)
                .attr("y", d => d.y);
        });

        // Legend
        const legendContent = document.getElementById("legend-content");
        const uniqueTypes = [...new Set(graphData.nodes.map(d => d.type))].sort();
        
        uniqueTypes.forEach(type => {
            const item = document.createElement("div");
            item.className = "legend-item";
            item.innerHTML = `
                <div class="legend-color" style="background-color: ${getTypeColor(type)}"></div>
                <span>${type === "UNKNOWN" || type === "" ? "Otro / Desconocido" : type}</span>
            `;
            legendContent.appendChild(item);
        });

        // Resize
        window.addEventListener("resize", () => {
            const w = container.clientWidth;
            const h = container.clientHeight;
            svg.attr("viewBox", [0, 0, w, h]);
            simulation.force("center", d3.forceCenter(w / 2, h / 2));
            simulation.force("x", d3.forceX(w / 2).strength(0.05));
            simulation.force("y", d3.forceY(h / 2).strength(0.05));
            simulation.alpha(0.3).restart();
        });

    } catch (error) {
        console.error("Error creating visualization:", error);
    }
});

function drag(simulation) {
    function dragstarted(event) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        event.subject.fx = event.subject.x;
        event.subject.fy = event.subject.y;
        d3.select(this).classed("pinned", true);
    }

    function dragged(event) {
        event.subject.fx = event.x;
        event.subject.fy = event.y;
    }

    function dragended(event) {
        if (!event.active) simulation.alphaTarget(0);
    }

    return d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended);
}

// --- Metrics Calculation Logic ---
function calculateAndDisplayMetrics(nodes, edges) {
    // 1. Basic Stats
    const N = nodes.length;
    const M = edges.length;
    const density = (2 * M) / (N * (N - 1));
    const avgDegree = (2 * M) / N;

    // 2. Degree Distribution & Variance
    // Re-calculate degrees from edges to be safe
    const degreeMap = {};
    nodes.forEach(n => degreeMap[n.id] = 0);
    edges.forEach(e => {
        degreeMap[e.source]++;
        degreeMap[e.target]++;
    });
    const degrees = Object.values(degreeMap);
    const degreeVariance = degrees.reduce((acc, val) => acc + Math.pow(val - avgDegree, 2), 0) / N;

    // 3. Assortativity (Pearson correlation of degrees of connected nodes)
    let s1 = 0, s2 = 0, s3 = 0;
    edges.forEach(e => {
        const d_u = degreeMap[e.source];
        const d_v = degreeMap[e.target];
        s1 += d_u * d_v;
        s2 += d_u + d_v;
        s3 += d_u * d_u + d_v * d_v;
    });
    // This is a simplified unweighted assortativity calculation
    // Full formula r = (M^-1 \sum j_i k_i - [M^-1 \sum 0.5(j_i+k_i)]^2) / ([M^-1 \sum 0.5(j_i^2+k_i^2)] - [...])
    // Using simple Pearson on the list of edges (u,v) and (v,u)
    let x = [], y = [];
    edges.forEach(e => {
        x.push(degreeMap[e.source]); y.push(degreeMap[e.target]);
        x.push(degreeMap[e.target]); y.push(degreeMap[e.source]); // undirected
    });
    // Pearson calc
    const n_pairs = x.length;
    const sum_x = x.reduce((a, b) => a + b, 0);
    const sum_y = y.reduce((a, b) => a + b, 0);
    const sum_xy = x.map((k, i) => k * y[i]).reduce((a, b) => a + b, 0);
    const sum_x2 = x.map(k => k * k).reduce((a, b) => a + b, 0);
    const sum_y2 = y.map(k => k * k).reduce((a, b) => a + b, 0);
    const numerator = (n_pairs * sum_xy) - (sum_x * sum_y);
    const denominator = Math.sqrt((n_pairs * sum_x2 - sum_x * sum_x) * (n_pairs * sum_y2 - sum_y * sum_y));
    const assortativity = denominator === 0 ? 0 : numerator / denominator;

    // 4. Connected Components
    const adj = {};
    nodes.forEach(n => adj[n.id] = []);
    edges.forEach(e => {
        adj[e.source].push(e.target);
        adj[e.target].push(e.source);
    });

    const visited = new Set();
    const components = [];
    nodes.forEach(n => {
        if (!visited.has(n.id)) {
            const component = [];
            const queue = [n.id];
            visited.add(n.id);
            while (queue.length > 0) {
                const u = queue.shift();
                component.push(u);
                adj[u].forEach(v => {
                    if (!visited.has(v)) {
                        visited.add(v);
                        queue.push(v);
                    }
                });
            }
            components.push(component);
        }
    });
    
    const numComponents = components.length;
    const lcc = components.reduce((a, b) => a.length > b.length ? a : b, []);
    const lccSize = lcc.length;
    const lccRel = lccSize / N;

    // 5. LCC Metrics (Diameter, Radius, Avg Path)
    // BFS from each node in LCC
    let maxEcc = 0;
    let minEcc = Infinity;
    let totalPathLen = 0;
    let pathCount = 0;

    lcc.forEach(startNode => {
        const dists = {};
        lcc.forEach(n => dists[n] = -1);
        dists[startNode] = 0;
        const q = [startNode];
        let localMax = 0;
        
        while(q.length > 0) {
            const u = q.shift();
            if (dists[u] > localMax) localMax = dists[u];
            
            adj[u].forEach(v => {
                // Ensure v is in LCC (it must be, by definition of component)
                if (dists[v] === -1) {
                    dists[v] = dists[u] + 1;
                    q.push(v);
                    totalPathLen += dists[v];
                    pathCount++;
                }
            });
        }
        if (localMax > maxEcc) maxEcc = localMax;
        if (localMax < minEcc) minEcc = localMax;
    });
    // pathCount is double counted in the loop logic above? No, BFS tree is unique per start.
    // Actually, totalPathLen sums d(u,v) for all v. Since we run for all u, we get sum d(u,v) for all pairs.
    // Avg Path = totalPathLen / (N_lcc * (N_lcc - 1))
    const avgPathLCC = pathCount > 0 ? totalPathLen / (lccSize * (lccSize - 1)) : 0;

    // 6. Clustering Coefficients
    let totalLocalC = 0;
    let triangles = 0;
    let triplets = 0; // "open" triplets (2 edges sharing a vertex)

    Object.keys(adj).forEach(u => {
        const neighbors = adj[u];
        const k = neighbors.length;
        if (k < 2) return; // C_i = 0

        let links = 0;
        for (let i = 0; i < k; i++) {
            for (let j = i + 1; j < k; j++) {
                if (adj[neighbors[i]].includes(neighbors[j])) {
                    links++;
                    triangles++; // counted 3 times total (once per vertex)
                }
            }
        }
        // Local Clustering C_i = 2 * links / k(k-1)
        const C_i = (2 * links) / (k * (k - 1));
        totalLocalC += C_i;
        
        // Triplets centered at u = k*(k-1)/2. 
        // Global Transitivity formula uses "number of connected triples".
        // A connected triple is a node with 2 neighbors. Count = k choose 2 = k(k-1)/2
        triplets += (k * (k - 1)) / 2;
    });
    const avgLocalClustering = totalLocalC / N;
    // Transitivity T = 3 * number_of_triangles / number_of_connected_triples
    // My triangles loop counts each triangle 3 times (once per vertex u).
    // So 'triangles' variable holds (3 * actual_triangles).
    // Global formula is usually T = (3 * NumTriangles) / NumTriplets.
    // Since my `triangles` var IS (3 * NumTriangles), we just divide by triplets.
    const globalClustering = triplets > 0 ? triangles / triplets : 0;

    // 7. Betweenness Centrality (Brandes Algorithm - Simplified Unweighted)
    // To get Maximum Betweenness
    const CB = {};
    nodes.forEach(n => CB[n.id] = 0);

    nodes.forEach(s => {
        const S = [];
        const P = {};
        const sigma = {};
        const d = {};
        nodes.forEach(n => {
            P[n.id] = [];
            sigma[n.id] = 0;
            d[n.id] = -1;
        });
        sigma[s.id] = 1;
        d[s.id] = 0;
        const Q = [s.id];

        while (Q.length > 0) {
            const v = Q.shift();
            S.push(v);
            adj[v].forEach(w => {
                if (d[w] < 0) {
                    Q.push(w);
                    d[w] = d[v] + 1;
                }
                if (d[w] === d[v] + 1) {
                    sigma[w] += sigma[v];
                    P[w].push(v);
                }
            });
        }

        const delta = {};
        nodes.forEach(n => delta[n.id] = 0);
        while (S.length > 0) {
            const w = S.pop();
            P[w].forEach(v => {
                delta[v] += (sigma[v] / sigma[w]) * (1 + delta[w]);
            });
            if (w !== s.id) {
                CB[w] += delta[w];
            }
        }
    });
    // Normalize Betweenness? Usually 2 / ((N-1)(N-2)) for undirected
    const normFactor = 2 / ((N - 1) * (N - 2));
    const maxBetweenness = Math.max(...Object.values(CB)) * normFactor;

    // 8. Algebraic Connectivity (Fiedler)
    // Hard to calculate in pure JS without matrix lib.
    // Heuristic: If graph is disconnected (numComponents > 1), it is 0.
    const algebraicConn = numComponents > 1 ? 0 : "N/A (Limitación cliente)";

    // Assign calculated values to variables expected by HTML template
    const diameter_lcc = lccSize > 0 ? maxEcc : 0;
    const radius_lcc = lccSize > 0 && minEcc !== Infinity ? minEcc : 0;

    // --- HTML Injection ---
    const html = `
        <div class="flex justify-between"><span>Nodos (N):</span> <span>${N}</span></div>
        <div class="flex justify-between"><span>Aristas (M):</span> <span>${M}</span></div>
        <div class="flex justify-between"><span>Densidad:</span> <span>${density.toFixed(4)}</span></div>
        <div class="flex justify-between"><span>Grado Promedio:</span> <span>${avgDegree.toFixed(2)}</span></div>
        <div class="flex justify-between"><span>Varianza Grado:</span> <span>${degreeVariance.toFixed(2)}</span></div>
        <div class="flex justify-between"><span>Asortatividad:</span> <span>${assortativity.toFixed(4)}</span></div>
        <div class="flex justify-between border-t pt-1 mt-1 border-slate-100"><span>Componentes:</span> <span>${numComponents}</span></div>
        <div class="flex justify-between"><span>LCC (Relativo):</span> <span>${(lccRel * 100).toFixed(1)}%</span></div>
        <div class="flex justify-between"><span>Diámetro LCC:</span> <span>${diameter_lcc}</span></div>
        <div class="flex justify-between"><span>Radio LCC:</span> <span>${radius_lcc}</span></div>
        <div class="flex justify-between"><span>Camino Prom. LCC:</span> <span>${avgPathLCC.toFixed(4)}</span></div>
        <div class="flex justify-between border-t pt-1 mt-1 border-slate-100"><span>Clustering Global:</span> <span>${globalClustering.toFixed(4)}</span></div>
        <div class="flex justify-between"><span>Clustering Local:</span> <span>${avgLocalClustering.toFixed(4)}</span></div>
        <div class="flex justify-between"><span>Conect. Algebraica:</span> <span>${algebraicConn}</span></div>
        <div class="flex justify-between"><span>Max Betweenness:</span> <span>${maxBetweenness.toFixed(4)}</span></div>
    `;
    
    document.getElementById("metrics-content").innerHTML = html;
}
</script>
</body>
</html>
